# LanShare ğŸš€ - Dockerç‰ˆæœ¬

**AIèµ‹èƒ½çš„æç®€å±€åŸŸç½‘æ–‡ä»¶å…±äº«ç¥å™¨**

## ğŸš€ 30ç§’æé€Ÿä¸Šæ‰‹

### 1. ä¸€é”®å¯åŠ¨ï¼ˆåŸºç¡€ç‰ˆï¼‰
```bash
docker run -d \
  --name lanshare \
  -p 7070:7070 \
  -v $(pwd)/uploads:/app/uploads \
  -v $(pwd)/data:/app/data \
  -e DOCKER_CONTAINER=true \
  -e HOST_IP=192.168.1.100 \
  -e DOCKER_HOST_IP=192.168.1.100 \
  --restart unless-stopped \
  zhong12138/lanshare:latest
```

### 2. Docker Composeæ–¹å¼ï¼ˆæ¨èï¼‰
```bash
# åˆ›å»ºç›®å½•
mkdir lanshare && cd lanshare

# ä¸‹è½½é…ç½®æ–‡ä»¶å’ŒIPè®¾ç½®æ¨¡æ¿
curl -o docker-compose.yml https://raw.githubusercontent.com/zhong12138/lanshare-v1/main/docker-compose.yml

# ä¸€é”®å¯åŠ¨æœåŠ¡ï¼ˆå·²é¢„è®¾IPä¸º192.168.1.100ï¼‰
docker-compose up -d

# è®¿é—®åº”ç”¨
# æœ¬åœ°: http://localhost:7070
# å±€åŸŸç½‘: http://192.168.1.100:7070
```

### 3. é…ç½®å®¿ä¸»æœºIPï¼ˆå·²é›†æˆï¼‰
IPé…ç½®å·²ç›´æ¥é›†æˆåˆ°Dockeré…ç½®ä¸­ï¼Œå¼€ç®±å³ç”¨ï¼

#### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# é¡¹ç›®å·²é¢„è®¾IPä¸º192.168.1.100ï¼Œç›´æ¥å¯åŠ¨
docker-compose up -d

# è®¿é—®åº”ç”¨
# æœ¬åœ°: http://localhost:7070
# å±€åŸŸç½‘: http://192.168.1.100:7070
```

#### å¦‚éœ€è‡ªå®šä¹‰IP
```bash
# æ–¹æ³•1: ç›´æ¥ç¼–è¾‘docker-compose.yml
# ä¿®æ”¹ environment ä¸­çš„ HOST_IP å’Œ DOCKER_HOST_IP

# æ–¹æ³•2: Docker Runæ—¶è®¾ç½®
docker run -d \
  --name lanshare \
  -p 7070:7070 \
  -v $(pwd)/uploads:/app/uploads \
  -v $(pwd)/data:/app/data \
  -e HOST_IP=192.168.0.100 \
  -e DOCKER_HOST_IP=192.168.0.100 \
  --restart unless-stopped \
  zhong12138/lanshare:latest
```

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **é›¶é…ç½®** - æ‰“å¼€å³ç”¨
- âš¡ **æé€Ÿä¼ è¾“** - å±€åŸŸç½‘ç›´è¿
- ğŸ“± **å…¨å¹³å°æ”¯æŒ** - æ‰‹æœºç”µè„‘å¹³æ¿
- ğŸ“‚ **æ™ºèƒ½é¢‘é“** - æ–‡ä»¶è‡ªåŠ¨åˆ†ç±»
- ğŸŒ™ **æš—é»‘æ¨¡å¼** - æ·±å¤œä¼ æ–‡ä»¶
- ğŸ”’ **æœ¬åœ°åŠ å¯†** - å®‰å…¨ä¼ è¾“

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Docker**: 20.10+
- **ç«¯å£**: 7070 (å¯è‡ªå®šä¹‰)
- **å­˜å‚¨**: 100MB+ å¯ç”¨ç©ºé—´

## ğŸ’¾ æ•°æ®æŒä¹…åŒ–

| æ•°æ®ç±»å‹ | è·¯å¾„ | è¯´æ˜ |
|---------|------|------|
| ä¸Šä¼ æ–‡ä»¶ | `./uploads/` | ç”¨æˆ·ä¸Šä¼ çš„æ‰€æœ‰æ–‡ä»¶ |
| æ•°æ®åº“ | `./data/lanshare.db` | é¢‘é“å’Œæ–‡ä»¶ç´¢å¼• |

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰ç«¯å£
```yaml
# docker-compose.yml
ports:
  - "8080:7070"  # æ”¹ä¸º8080ç«¯å£
```

### ç¯å¢ƒå˜é‡é…ç½®
```yaml
environment:
  - FLASK_ENV=production
  - HOST_IP=192.168.1.100          # ä½ çš„å±€åŸŸç½‘IPåœ°å€
  - DOCKER_HOST_IP=192.168.1.100   # Dockerå®¿ä¸»æœºIP
  - MAX_FILE_SIZE=100MB
```

### ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå·²é›†æˆï¼‰
IPé…ç½®å·²ç›´æ¥é›†æˆåˆ°Docker Composeæ–‡ä»¶ä¸­ï¼š
```yaml
environment:
  - HOST_IP=192.168.1.100  # é¢„è®¾å±€åŸŸç½‘IP
  - DOCKER_HOST_IP=192.168.1.100
```
å¦‚éœ€ä¿®æ”¹ï¼Œç›´æ¥ç¼–è¾‘docker-compose.ymlæ–‡ä»¶å³å¯ã€‚

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# åœæ­¢æœåŠ¡
docker-compose down

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æ›´æ–°é•œåƒ
docker-compose pull && docker-compose up -d

# æ¸…ç†æ•°æ®
# âš ï¸ è­¦å‘Šï¼šä¼šåˆ é™¤æ‰€æœ‰ä¸Šä¼ çš„æ–‡ä»¶
docker-compose down -v
```

## ğŸš¨ æ³¨æ„äº‹é¡¹

- **ä»…é™å±€åŸŸç½‘**: ç¡®ä¿åœ¨å—ä¿¡ä»»çš„ç½‘ç»œç¯å¢ƒä½¿ç”¨
- **å®šæœŸå¤‡ä»½**: é‡è¦æ–‡ä»¶å»ºè®®é¢å¤–å¤‡ä»½
- **å­˜å‚¨ç©ºé—´**: ç›‘æ§ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ
- **æƒé™ç®¡ç†**: å¤šäººä½¿ç”¨æ—¶æ³¨æ„æ–‡ä»¶æƒé™

## ğŸ“ æ•…éšœæ’é™¤

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| ç«¯å£å†²çª | ä¿®æ”¹docker-compose.ymlä¸­çš„ç«¯å£æ˜ å°„ |
| æƒé™é”™è¯¯ | ç¡®ä¿Dockerç”¨æˆ·æœ‰ç›®å½•å†™å…¥æƒé™ |
| æ— æ³•è®¿é—® | æ£€æŸ¥é˜²ç«å¢™è®¾ç½®å’Œç«¯å£å¼€æ”¾ |
| æ–‡ä»¶ä¸¢å¤± | ç¡®è®¤å·æŒ‚è½½è·¯å¾„æ­£ç¡® |
| IPæ˜¾ç¤ºä¸ºDockerå®¹å™¨IP | è®¾ç½®HOST_IPç¯å¢ƒå˜é‡ä¸ºçœŸå®å±€åŸŸç½‘IP |
| å…¶ä»–è®¾å¤‡æ— æ³•è®¿é—® | æ£€æŸ¥å±€åŸŸç½‘IPè®¾ç½®æ˜¯å¦æ­£ç¡® |

## ğŸ“± ä½¿ç”¨åœºæ™¯

- ğŸ  **å®¶åº­å…±äº«** - å®¶äººé—´å¿«é€Ÿä¼ æ–‡ä»¶
- ğŸ¢ **åŠå…¬å®¤** - åŒäº‹é—´èµ„æ–™å…±äº«
- ğŸ“ **å­¦æ ¡** - è¯¾å ‚èµ„æ–™åˆ†å‘
- ğŸ‰ **èšä¼š** - ç…§ç‰‡è§†é¢‘å³æ—¶åˆ†äº«

---

**Docker Hub**: https://hub.docker.com/r/zhong12138/lanshare  
**GitHub**: https://github.com/Danborad/lanshare

*è®©æ–‡ä»¶ä¼ è¾“åƒå‘¼å¸ä¸€æ ·ç®€å•*